#{extends 'main.html' /}
#{set title:'urbantags - Rennes' /}

#{set 'moreScripts'}
<script type="text/javascript" src="@{'/public/javascripts/Class.js'}"></script>
<script type="text/javascript" src="@{'/public/javascripts/CanFireEvents.js'}"></script>
<script type="text/javascript" src="@{'/public/javascripts/EventRegistration.js'}"></script>
<script type="text/javascript" src="@{'/public/javascripts/PlaceManager.js'}"></script>
<script type="text/javascript" src="@{'/public/javascripts/InfoManager.js'}"></script>
<!-- <script type="text/javascript" src="@{'/public/javascripts/ChangeManager.js'}"></script> -->
<script type="text/javascript" src="@{'/public/javascripts/Map.js'}"></script>
<script type="text/javascript" src="@{'/public/javascripts/PlaceWizard.js'}"></script>
<script type="text/javascript" src="@{'/public/javascripts/MapBox.js'}"></script>


#{jsRoutes /}

<script type="text/javascript">
placeManager = new PlaceManager();
infoManager = new InfoManager(placeManager);
placeWizard = new PlaceWizard(placeManager);

// For future uses 
//changeManager = new ChangeManager(placeManager, infoManager);

</script>
#{/set}

#{topBar user:user, userId:userId /}
    
    <div class="fluid-container">
        <div class="row-fluid">
            <div class="span3" id="place-list-container">
                #{placeList user:user /}
            </div>
            <div class="span9">
                <div class="row-fluid">
                #{map /}
                </div>
                <div class="row-fluid">
                    #{infoList user:user /}
                </div>
            </div>
        </div>
    </div>
<!-- </div> -->

#{set 'moreEndScripts'}
<script type="text/javascript">
placeManager.loadData();
</script>
#{/set}